/** All jobs */
var jobHarvester = require('job.harvester');
var jobUpgrader = require('job.upgrader');
var jobBuilder = require('job.builder');
var jobMiner = require('job.miner');

/** Management **/
var manageCrew = require("manage.crew");

module.exports.loop = function(){
  console.log("________________________________________________" + Game.time);

  /** Management **/
  manageCrew.deaths();
  manageCrew.respawn(Game.spawns["Spawn1"]);
  manageCrew.reorganize(Game.spawns["Spawn1"].room);

  /** Screeps **/
  for (var name in Game.creeps){

    var creep = Game.creeps[name];
    var job = creep.memory.job

    switch (job){
      case "harvester":
        jobHarvester.run(creep, true);
        break;

      case "upgrader":
        jobUpgrader.run(creep, true);
        break;

      case "builder":
        jobBuilder.run(creep, true);
        break;

      case "miner":
        jobMiner.run(creep, true);
        break;
    }
  }
}
